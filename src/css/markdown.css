/* =====================================================
   MARKDOWN STYLES
   Every rule below is a direct translation of the
   Tailwind utility classes from the reference chat interface.
   ===================================================== */

/* Container — .standard-markdown with grid gap-3 */
.standard-markdown {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;          /* gap-3 */
  font-family: var(--font-sans);
  font-size: 1rem;
  color: var(--color-text-primary);
}

/* All direct children must not overflow */
.standard-markdown > * {
  min-width: 0;
}

/* --- Headings ---
   Exact sizes from reference chat interface HTML:
   h1: text-[1.375rem]  = 22px
   h2: text-[1.125rem]  = 18px
   h3: text-base        = 16px
   h4: text-base        = 16px
   All: font-bold, mt-3/-mt-2, -mb-1
*/
.standard-markdown h1,
.standard-markdown h2,
.standard-markdown h3,
.standard-markdown h4 {
  font-weight: 700;
  color: var(--color-text-primary);
  margin-bottom: -0.25rem;  /* -mb-1 */
  line-height: 1.3;
}

.standard-markdown h1 {
  font-size: 1.375rem;      /* text-[1.375rem] */
  margin-top: 0.75rem;      /* mt-3 */
}

.standard-markdown h2 {
  font-size: 1.125rem;      /* text-[1.125rem] */
  margin-top: 0.75rem;      /* mt-3 */
}

.standard-markdown h3 {
  font-size: 1rem;          /* text-base */
  margin-top: 0.5rem;       /* mt-2 */
}

.standard-markdown h4 {
  font-size: 1rem;          /* text-base */
  margin-top: 0.5rem;       /* mt-2 */
}

/* --- HR ---
   border-border-200 border-t-0.5 my-3 mx-1.5
*/
.standard-markdown hr {
  border: none;
  border-top: 0.5px solid var(--color-border-200);
  margin: 0.75rem 0.375rem; /* my-3 mx-1.5 */
}

/* --- Paragraphs ---
   response-body break-words whitespace-normal leading-[1.7]
*/
.standard-markdown p {
  line-height: 1.7;         /* leading-[1.7] */
  word-break: break-words;
  white-space: normal;
  margin: 0;
}

/* --- Inline code ---
   bg-text-200/5 border border-0.5 border-border-300
   text-danger-000 whitespace-pre-wrap rounded-[0.4rem]
   px-1 py-px text-[0.9rem]
*/
.standard-markdown :not(pre) > code {
  background: var(--color-code-inline-bg);
  border: 0.5px solid var(--color-border-300);
  color: var(--color-danger);
  white-space: pre-wrap;
  border-radius: 0.4rem;
  padding: 1px 0.25rem;
  font-size: 0.9rem;
  font-family: var(--font-mono);
}

/* --- Links ---
   underline underline-offset-2 decoration-1
   decoration-current/40 hover:decoration-current
*/
.standard-markdown a {
  color: inherit;
  text-decoration: underline;
  text-underline-offset: 2px;
  text-decoration-thickness: 1px;
  text-decoration-color: var(--color-link-decoration);
  transition: text-decoration-color 0.15s;
}

.standard-markdown a:hover,
.standard-markdown a:focus {
  text-decoration-color: var(--color-text-primary);
}

/* --- Strong / Em / Del --- */
.standard-markdown strong { font-weight: 700; }
.standard-markdown em     { font-style: italic; }
.standard-markdown del    { text-decoration: line-through; }

/* --- Unordered list ---
   list-disc flex flex-col gap-1 pl-8 mb-3
   li: whitespace-normal break-words pl-2
*/
.standard-markdown ul {
  list-style: disc;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  padding-left: 2rem;
  margin-bottom: 0.75rem;
}

/* --- Ordered list ---
   list-decimal flex flex-col gap-1 pl-8 mb-3
*/
.standard-markdown ol {
  list-style: decimal;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  padding-left: 2rem;
  margin-bottom: 0.75rem;
}

.standard-markdown li {
  padding-left: 0.5rem;
  word-break: break-words;
  white-space: normal;
}

/* Nested lists — [&:not(:last-child)_ul]:pb-1 */
.standard-markdown li > ul,
.standard-markdown li > ol {
  margin-top: 0.25rem;
  margin-bottom: 0;
}

.standard-markdown li:not(:last-child) > ul,
.standard-markdown li:not(:last-child) > ol {
  padding-bottom: 0.25rem;
}

/* --- Task list ---
   contains-task-list / task-list-item
*/
.standard-markdown ul.contains-task-list {
  list-style: none;
  padding-left: 0.5rem;
}

.standard-markdown .task-list-item {
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
  padding-left: 0;
}

.standard-markdown .task-list-item input[type="checkbox"] {
  margin-top: 0.3rem;
  flex-shrink: 0;
  accent-color: var(--color-danger);
  width: 14px;
  height: 14px;
  cursor: default;
}

/* --- Blockquote ---
   Left border + subdued text color.
*/
.standard-markdown blockquote {
  border-left: 3px solid var(--color-border-300);
  padding: 0.1rem 0 0.1rem 1rem;
  color: var(--color-text-secondary);
  margin: 0;
}

.standard-markdown blockquote p {
  line-height: 1.7;
}

/* --- Code blocks ---
   Wrapped in a div with language label.
*/
.standard-markdown .code-block-wrapper {
  border-radius: 0.5rem;
  overflow: hidden;
  background: var(--color-code-bg);
  border: 1px solid var(--color-code-border);
}

.standard-markdown .code-lang-label {
  font-family: var(--font-mono);
  font-size: 0.72rem;
  color: var(--color-text-secondary);
  padding: 0.45rem 0.75rem 0;
  text-transform: lowercase;
  letter-spacing: 0.02em;
}

.standard-markdown .code-block-wrapper pre {
  margin: 0;
  padding: 0.6rem 0.75rem 0.75rem;
  overflow-x: auto;
  background: transparent;
}

.standard-markdown .code-block-wrapper pre code {
  background: none;
  border: none;
  color: var(--color-text-primary);
  padding: 0;
  font-size: 0.875rem;
  font-family: var(--font-mono);
  white-space: pre;
  border-radius: 0;
}

/* Syntax token colors — via design tokens */
.tok-keyword  { color: var(--tok-keyword); }
.tok-number   { color: var(--tok-number); }
.tok-comment  { color: var(--tok-comment); }
.tok-string   { color: var(--tok-string); }
.tok-operator { color: var(--tok-operator); }
.tok-punct    { color: var(--tok-punct); }
.tok-fn       { color: var(--tok-fn); }
.tok-tmpl     { color: var(--tok-tmpl); }

/* --- Tables ---
   overflow-x-auto w-full px-2 mb-6
*/
.standard-markdown .table-wrapper {
  overflow-x: auto;
  width: 100%;
  padding: 0 0.5rem;
  margin-bottom: 1.5rem;
}

.standard-markdown table {
  min-width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
  line-height: 1.7;
  white-space: normal;
}

.standard-markdown thead {
  text-align: left;
}

.standard-markdown th {
  color: var(--color-text-primary);
  border-bottom: 0.5px solid var(--color-table-border-head);
  padding: 0.5rem 1rem 0.5rem 0;
  vertical-align: top;
  font-weight: 700;
}

.standard-markdown td {
  border-bottom: 0.5px solid var(--color-table-border-cell);
  padding: 0.5rem 1rem 0.5rem 0;
  vertical-align: top;
}
